{"version":3,"sources":["webpack:///./frontend/components/ui/modal.jsx","webpack:///./frontend/components/user_session/login_form_container.jsx","webpack:///./frontend/components/user_session/session_form.jsx","webpack:///./frontend/components/user_session/signup_form_container.jsx"],"names":["Modal","modal","closeModal","component","e","stopPropagation","mapStateToProps","state","ui","mapDispatchToProps","dispatch","connect","session","users","entities","errors","currentUser","id","formType","ownProps","processForm","user","login","demoLogin","email","password","then","setTimeout","alert","logout","otherForm","openModal","clearErrors","clearSessionErrors","SessionForm","props","full_name","handleSubmit","bind","field","setState","currentTarget","value","clicked","which","preventDefault","Object","assign","slice","map","error","i","faExclamationCircle","rightFooter","nameInput","updatesCheckbox","update","window","logoURL","faTimes","renderErrors","React","Component","signup"],"mappings":"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","file":"1.bundle.js","sourcesContent":["import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { closeModal } from \"../../actions/modal_actions\";\nimport LoginForm from \"../user_session/login_form_container\";\nimport SignupForm from \"../user_session/signup_form_container\";\n\nconst Modal = ({ modal, closeModal }) => {\n  if (!modal) {\n    return null;\n  }\n\n  let component = null;\n  switch (modal) {\n    case \"login\":\n      component = <LoginForm id=\"form\" />;\n      break;\n    case \"signup\":\n      component = <SignupForm id=\"form\" />;\n      break;\n  }\n  return (\n    <div className=\"modal-background\" onClick={closeModal}>\n      <div className=\"modal-child\" onClick={e => e.stopPropagation()}>\n        {component}\n      </div>\n    </div>\n  );\n};\n\nconst mapStateToProps = state => ({\n  modal: state.ui.modal\n});\n\nconst mapDispatchToProps = dispatch => ({\n  closeModal: () => dispatch(closeModal())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport {\n  login,\n  clearSessionErrors,\n  logout,\n} from \"../../actions/session_user_actions\";\nimport SessionForm from \"./session_form\";\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\nconst mapStateToProps = ({ session, entities: { users }, errors }) => ({\n  currentUser: users[session.id],\n  formType: \"login\",\n  errors: errors.session,\n});\n\nconst mapDispatchToProps = (dispatch, ownProps) => ({\n  processForm: (user) => dispatch(login(user)),\n  demoLogin: () =>\n    dispatch(login({ email: \"demo@demo.demo\", password: \"demopassword\" })).then(\n      () => {\n        setTimeout(() => {\n          alert(\"Your demo user session has expired. Please log in again.\");\n          dispatch(logout());\n        }, 600000);\n      }\n    ),\n  closeModal: () => dispatch(closeModal()),\n  otherForm: (\n    <button\n      className=\"other-form\"\n      onClick={() => dispatch(openModal(\"signup\"))}\n    >\n      Sign Up\n    </button>\n  ),\n  clearErrors: () => dispatch(clearSessionErrors()),\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SessionForm);\n","import React from \"react\";\nimport {\n  faTimes,\n  faAngleLeft,\n  faExclamationCircle,\n} from \"@fortawesome/free-solid-svg-icons\";\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\n\nclass SessionForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      email: \"\",\n      password: \"\",\n      full_name: \"\",\n    };\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  componentWillUnmount() {\n    this.props.clearErrors();\n  }\n\n  update(field) {\n    return (e) =>\n      this.setState({\n        [field]: e.currentTarget.value,\n      });\n  }\n\n  handleSubmit(clicked) {\n    return (e) => {\n      if (e.which === 13 || clicked) {\n        e.preventDefault();\n        this.props.processForm(Object.assign({}, this.state));\n      }\n    };\n  }\n\n  renderErrors() {\n    return (\n      <ul className=\"errors-list\">\n        {this.props.errors.slice(0, 3).map((error, i) => (\n          <li key={`error-${i}`} className=\"err\">\n            <FontAwesomeIcon icon={faExclamationCircle} id=\"error-icon\" />\n            {error}\n          </li>\n        ))}\n      </ul>\n    );\n  }\n\n  render() {\n    let rightFooter;\n    let nameInput = null;\n    let updatesCheckbox = null;\n    if (this.props.formType === \"login\") {\n      rightFooter = \"New to Scribbled?\";\n    } else {\n      rightFooter = \"Already have an account?\";\n      nameInput = (\n        <div className=\"input-container\">\n          <label>Name</label>\n          <input\n            type=\"text\"\n            value={this.state.full_name}\n            onChange={this.update(\"full_name\")}\n            className=\"login-input\"\n            autoComplete=\"off\"\n            onKeyPress={this.handleSubmit(false)}\n          />\n        </div>\n      );\n    }\n\n    return (\n      <div className=\"modal-container\" id=\"modal\">\n        <div id=\"overlay\"></div>\n        <div className=\"login-form-container\">\n          <div className=\"login-form-box\">\n            <div className=\"left-col\">\n              <img alt=\"Scribbled\" className=\"logo-img\" src={window.logoURL} />\n              <span className=\"welcome\">\n                {this.props.formType === \"login\" ? \"Welcome back!\" : \"\"}\n              </span>\n            </div>\n            <div className=\"right-col\">\n              <div className=\"form-top\">\n                <div className=\"form-top-btns\">\n                  <div className=\"back-btn-container\"></div>\n                  <button className=\"close-btn\" onClick={this.props.closeModal}>\n                    <FontAwesomeIcon\n                      id=\"modal-icon\"\n                      icon={faTimes}\n                      color=\"grey\"\n                    />\n                  </button>\n                </div>\n              </div>\n              <div className=\"form-title\">\n                {this.props.formType === \"login\" ? \"Sign In\" : \"Sign Up\"} with\n                Email\n              </div>\n              <div className=\"errors-container\">{this.renderErrors()}</div>\n              <form onSubmit={this.handleSubmit(true)} className=\"login-form\">\n                <div className=\"login-form\">\n                  {nameInput}\n                  <div className=\"input-container\">\n                    <label>Email</label>\n                    <input\n                      id=\"email-input\"\n                      type=\"text\"\n                      value={this.state.email}\n                      onChange={this.update(\"email\")}\n                      className=\"login-input\"\n                      autoComplete=\"off\"\n                      onKeyPress={this.handleSubmit(false)}\n                    />\n                  </div>\n                  <div className=\"input-container\">\n                    <label>\n                      Password\n                      <p className=\"password-length\">\n                        {this.props.formType === \"signup\"\n                          ? \"(at least 6 characters)\"\n                          : null}\n                      </p>\n                    </label>\n\n                    <input\n                      type=\"password\"\n                      value={this.state.password}\n                      onChange={this.update(\"password\")}\n                      className=\"login-input\"\n                      autoComplete=\"off\"\n                      onKeyPress={this.handleSubmit(false)}\n                    />\n                  </div>\n                  <button className=\"session-submit submit-btn\" type=\"submit\">\n                    {this.props.formType === \"login\" ? \"Sign In\" : \"Sign Up\"}\n                  </button>\n                  {this.props.formType === \"login\" ? (\n                    <button\n                      className=\"demo-signin-btn\"\n                      onClick={this.props.demoLogin}\n                    >\n                      Demo User Login\n                    </button>\n                  ) : null}\n                </div>\n              </form>\n              <div className=\"right-footer-container\">\n                <span className=\"footer-text\">{rightFooter}</span>\n                {this.props.otherForm}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default SessionForm;\n","import { connect } from \"react-redux\";\nimport React from \"react\";\nimport { signup, clearSessionErrors } from \"../../actions/session_user_actions\";\nimport SessionForm from \"./session_form\";\nimport { openModal, closeModal } from \"../../actions/modal_actions\";\n\nconst mapStateToProps = ({ errors }) => {\n  return {\n    errors: errors.session,\n    formType: \"signup\",\n  };\n};\n\nconst mapDispatchToProps = (dispatch, ownProps) => {\n  return {\n    processForm: (user) => dispatch(signup(user)),\n    closeModal: () => dispatch(closeModal()),\n    otherForm: (\n      <button\n        className=\"other-form\"\n        onClick={() => dispatch(openModal(\"login\"))}\n      >\n        Log In\n      </button>\n    ),\n    clearErrors: () => dispatch(clearSessionErrors()),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SessionForm);\n"],"sourceRoot":""}